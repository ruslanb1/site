/*!
* © by Sitsanlis Ilias
* This notice shall be included in all copies or substantial portions of the Software.
* Creative Commons 4.0/CC BY - NC - SA 4.0. 
*/

var ipmin=2,ipmax=10,iVmin=2,iVmax=10,iTmin=50,iTmax=1e3,pmin=ipmin,pmax=ipmax,Vmin=iVmin,Vmax=iVmax,Tmin=iTmin,Tmax=iTmax,nmin=.5,nmax=2,λmax=1e3,sT=5;function updateValue_dQ(e,n){$("#dQSlider").slider({value:n}),vectorLen=0,λ=Number(n),drawArray(),drawHotSource()}function updateValue_p(e,n){p=Number(n),$("#pSlider").slider({value:n}),changePressure(e)}function updateValue_V(e,n){changeVolume(e,Number(n))}function updateValue_T(e,n){changeTemperature(e,Number(n))}function updateValue_n(e,i){Nmax=Number(i)*NA,n=R*Number(i),V=n*T/100/p,$("#nSlider").slider({value:i}),initialize()}function changePressure(e){T=100*p*V/n,initialize()}function changeVolume(e,i){e.preventDefault(),V=i,T=100*p*V/n,putPointInLimits(),setSlidersAndSpinersValues(),drawBox(),updateThePointPos(),restart()}function changeTemperature(e,i){e.preventDefault(),T=i,V=n*T/100/p,putPointInLimits,setSlidersAndSpinersValues(),drawBox(),updateThePointPos(),restart()}$(function(){$("#showMoleculesID").button({text:!1}).click(function(){showMolecules=$(this).is(":checked"),particles.visible=showMolecules,positions()}),$("#plotsID").button({text:!1}).click(function(){plotsText.visible=mainPlot.visible=plots.visible=$(this).is(":checked"),area.visible=$(this).is(":checked")&&$("#workID").is(":checked"),stage.update()}),$("#workID").button({text:!1,icons:{primary:"ui-icon-close"}}).click(function(){area.visible=$(this).is(":checked")&&$("#plotsID").is(":checked"),stage.update()}),$("#vectorsID").button({text:!1,icons:{primary:"ui-icon-close"}}).click(function(){vectors.visible=$(this).is(":checked"),stage.update()}),$("#both").button({text:!1,icons:{primary:"ui-icon-close"}}).click(function(){arrayOfPressure=[],initialize()}),$("#cloneGraph").button({}).click(function(){arrayOfPressure.push(p)}),$("#plus").button({text:!1,icons:{primary:" ui-icon-plus"}}).click(function(){var e=makePoint("#000",3);e.p=p,e.V=V,e.T=T,e.x=point.x,e.y=point.y,points.addChild(e),stage.update()}),$("#minus").button({text:!1,icons:{primary:" ui-icon-minus"}}).click(function(){var e=points.numChildren,n=points.getChildAt(e-1);points.removeChild(n),stage.update()}),$("#clear").button({text:!1,icons:{primary:"ui-icon-close"}}).click(function(){points.removeAllChildren(),stage.update()})}),$(function(){$("#dQSpinner").spinner({min:-λmax,max:+λmax,step:100,numberFormat:"n",spin:function(e,n){updateValue_dQ(e,n.value)},change:function(e){updateValue_dQ(e,this.value)}}).val(λ),$("#dQSpinner").keypress(function(e){13==e.which&&($(this).val()>λmax?$(this).val(λmax):$(this).val()<-λmax&&$(this).val(-λmax),e.preventDefault(),updateValue_dQ(e,this.value))}),$("#pSpinner").spinner({min:pmin,max:pmax,step:.1,numberFormat:"n",spin:function(e,n){updateValue_p(e,n.value)},change:function(e){updateValue_p(e,this.value)}}).val(p),$("#pSpinner").keypress(function(e){13==e.which&&($(this).val()>pmax?$(this).val(pmax):$(this).val()<pmin&&$(this).val(pmin),e.preventDefault(),updateValue_p(e,this.value))}),$("#VSpinner").spinner({min:Vmin,max:Vmax,step:.1,numberFormat:"n",spin:function(e,n){updateValue_V(e,n.value)},change:function(e){updateValue_V(e,this.value)}}).val(V),$("#VSpinner").keypress(function(e){13==e.which&&($(this).val()>Vmax?$(this).val(Vmax):$(this).val()<Vmin&&$(this).val(Vmin),e.preventDefault(),updateValue_V(e,this.value))}),$("#TSpinner").spinner({min:Tmin,max:Tmax,step:sT,numberFormat:"n",spin:function(e,n){updateValue_T(e,n.value)},change:function(e){updateValue_T(e,this.value)}}).val(T),$("#TSpinner").keypress(function(e){13==e.which&&($(this).val()>Tmax?$(this).val(Tmax):$(this).val()<Tmin&&$(this).val(Tmin),e.preventDefault(),updateValue_T(e,this.value))}),$("#nSpinner").spinner({min:nmin,max:nmax,step:.1,numberFormat:"n",spin:function(e,n){updateValue_n(e,n.value)},change:function(e){updateValue_n(e,this.value)}}).val(n/R),$("#nSpinner").keypress(function(e){13==e.which&&($(this).val()>nmax?$(this).val(nmax):$(this).val()<nmin&&$(this).val(nmin),e.preventDefault(),updateValue_n(e,this.value))})}),$(function(){$("#dQSlider").slider({range:"min",min:-λmax,max:+λmax,step:100,value:λ,slide:function(e,n){λ=Number(n.value),vectorLen=0,drawHotSource(),drawArray(),$("#dQSpinner").spinner().val(λ)}}),$("#pSlider").slider({range:"min",min:pmin,max:pmax,step:.1,value:p,slide:function(e,n){p=Number(n.value),$("#pSpinner").spinner().val(p),changePressure(e)}}),$("#VSlider").slider({range:"min",min:Vmin,max:Vmax,step:.1,value:V,slide:function(e,n){changeVolume(e,Number(n.value))}}),$("#TSlider").slider({range:"min",min:Tmin,max:Tmax,step:sT,value:T,slide:function(e,n){changeTemperature(e,Number(n.value))}}),$("#nSlider").slider({range:"min",min:nmin,max:nmax,step:.1,value:n/R,slide:function(e,i){Nmax=Number(i.value)*NA,n=R*Number(i.value),$("#nSpinner").spinner().val(i.value),V=n*T/100/p,initialize()}})}),$(function(){$("input[type='radio']").checkboxradio(),$("input:radio").change(function(){selectedIndex=$('input:radio[name="radio-1"]:checked').val(),3==selectedIndex?(document.getElementById("buttons").style.display="none",document.getElementById("copys").style.display="none",pVGraphContainer.visible=!1,boxAndGas.x=-XL-W/2+360,graphIndex=0,titleText.set({x:360,y:45,textAlign:"center"})):(document.getElementById("buttons").style.display="inline-table",document.getElementById("copys").style.display="inline-table",graphIndex=selectedIndex,pVGraphContainer.visible=!0,boxAndGas.x=0,titleText.set({x:X0,y:45,textAlign:"center"})),initialize()})});