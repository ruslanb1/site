

function RungeKutta(e,r,t,s,a,i,n){var l=fr1(e,r,t,s,a,i),h=fr2(e,r,t,s,a,i),c=fr1(e,r,t,s+n*l/2,a+n*h/2,i+n/2),d=fr2(e,r,t,s+n*l/2,a+n*h/2,i+n/2),p=fr1(e,r,t,s+n*c/2,a+n*d/2,i+n/2),o=fr2(e,r,t,s+n*c/2,a+n*d/2,i+n/2),f=fr1(e,r,t,s+n*p,a+n*o,i+n),u=fr2(e,r,t,s+n*p,a+n*o,i+n);return new Object({y:s+n*(l+2*c+2*p+f)/6,v:a+n*(h+2*d+2*o+u)/6})}function fr1(e,r,t,s,a,i){return a}function fr2(e,r,t,s,a,i){return e-t*a/r}function drawAxis(){1==ε?yAxis.yMainAxisCreate((390-Y0)/yScale,(40-Y0)/yScale,yScale):yAxis.yMainAxisCreate((40-Y0)/xScale,(390-Y0)/xScale,xScale),yMin=(YGround-Y0)/yScale,takeValidValue()}function drawGraoud(){var e=ground.graphics;e.clear();for(ground.y=YGround,e.setStrokeStyle(1),e.beginStroke("#ccc"),i=0;i<=720;i+=10)e.mt(i,0).lt(i-38.885,38.885);e.setStrokeStyle(2),e.beginStroke("#ccc"),e.mt(0,0).lt(720,0)}function removeClones(){xCloneGraphs.removeAllChildren(),vCloneGraphs.removeAllChildren()}function afterMassUpdate(){R1=.09*Math.sqrt(m1),R2=.09*Math.sqrt(m2),1.7<R1&&(R1=1.7),R1<.1&&(R1=.1),1.7<R2&&(R2=1.7),R2<.1&&(R2=.1),point1.graphics.clear().ss(1).s("#0000ff").f("#0000ff").dc(0,0,30*R1).f("#000").dc(0,0,2),point1.hitArea=new createjs.Shape,point1.hitArea.graphics.f("#fff").dc(0,0,15),point2.graphics.clear().ss(1).s("#ff0000").f("#ff0000").dc(0,0,30*R2).f("#000").dc(0,0,2),point2.hitArea=new createjs.Shape,point2.hitArea.graphics.f("#fff").dc(0,0,15)}function updateSlidersAndSpinners(e){"point1"==e?($("#mSpinner").spinner().val(m1),$("#mSlider").slider({value:m1}),$("#ySpinner").spinner().val(round(ε*y01,1)),$("#ySlider").slider({value:ε*y01}),$("#vSpinner").spinner().val(round(ε*v01,1)),$("#vSlider").slider({value:ε*v01})):($("#mSpinner").spinner().val(m2),$("#mSlider").slider({value:m2}),$("#ySpinner").spinner().val(round(ε*y02,1)),$("#ySlider").slider({value:ε*y02}),$("#vSpinner").spinner().val(round(ε*v02,1)),$("#vSlider").slider({value:ε*v02}))}function takeValidValue(e,r){var t=(YGround-e)/r,s=round(y01,1);y01=s<t?Math.ceil(10*t)/10:s;s=round(y02,1);y02=s<t?Math.ceil(10*t)/10:s}function drawRuler(){if(ruler.removeAllChildren(),12<xScale)var e=10*xScale,r=xScale/10,t=1;else e=70*xScale,r=70*xScale/10,t=5;var s=new createjs.Shape;s.graphics.ss(1).s("#999").f("#FFFFCC").dr(0,0,e,25),ruler.addChild(s);for(var a=r;a<=e;a+=r)s.graphics.ss(1).s("#666").mt(a,0).lt(a,3).mt(a,25).lt(a,22);for(a=0;a<=e;a+=xScale)s.graphics.ss(1.5).s("#666").mt(a,0).lt(a,6).mt(a,25).lt(a,19);for(a=0;a<e;a+=t*xScale){var i;(i=new createjs.Text((a/xScale).toFixed(0),"10px Trebuchet MS ","#333")).set({textAlign:"center"}),i.y=8,i.x=a,ruler.addChild(i)}(i=new createjs.Text("m","10px Trebuchet MS ","#333")).set({textAlign:"right"}),i.y=8,i.x=a-2,ruler.addChild(i),s.name="shape";for(a=0;a<=1;a++){var n=new createjs.Shape;n.hitArea=new createjs.Shape,n.hitArea.graphics.f("#CCC").dc(0,0,25),n.set({x:a*e,y:10,name:"rotator"}),ruler.addChild(n)}ruler.regY=12.5,ruler.y=Y0,ruler.x=X0+30}function addClone(){var e;(e=new createjs.Shape).graphics.f("#0000ff").dc(0,0,2.5),e.set({x:point1.x,y:point1.y,alpha:1}),pointClones.addChild(e),oneBody||((e=new createjs.Shape).graphics.f("#ff0000").dc(0,0,2.5),e.set({x:point2.x,y:point2.y,alpha:1}),pointClones.addChild(e))}createjs.Container.prototype.tAxisCreate=function(e,r){var t=Math.abs(e/3).toExponential(1),s=t.indexOf("e"),a=Number(t.substr(0,s)),i=Number(t.substr(s+1));if(a<2)var n=Number("1e"+i);else if(a<5)n=Number("2e"+i);else n=Number("5e"+i);var l=0;n<1&&(l=1),this.step=n;var h="#666",c="#E9E9E9";this.removeAllChildren();var d=new createjs.Shape;d.alpha=.8,this.addChild(d),d.hitArea=new createjs.Shape,d.hitArea.alpha=.01,d.hitArea.graphics.f("#000").r(0,-10,Lpx+10,20),d.graphics.s(h).ss(1),d.graphics.ss(.5).s("#E9E9E9");for(var p=n;p<=e;p+=n){gridFlag&&d.graphics.ss(1).s(c).mt(p*r,-2*Hpx).lt(p*r,2*Hpx),d.graphics.ss(1).s(h).mt(p*r,0).lt(p*r,5);var o=new createjs.Text(p.toFixed(l),"9px Trebuchet MS","#333");o.set({textAlign:"center"}),o.x=p*r,o.y=8,this.addChild(o)}for(p=0;p<=e;p+=n)for(var f=.2*n;f<n;f+=.2*n)p+f<e&&(gridFlag&&d.graphics.ss(.5).s(c).mt((p+f)*r,-2*Hpx).lt((p+f)*r,2*Hpx),d.graphics.ss(1).s(h).mt((p+f)*r,0).lt((p+f)*r,3));d.graphics.ss(1.5).s(h).mt(0,0).lt(Lpx+10,0).f(h).dc(0,0,2),d.addArrow(h,Lpx+10,0,0)},createjs.Container.prototype.yMainAxisCreate=function(e,r,t){var s=Math.abs((r-e)/8).toExponential(1),a=s.indexOf("e"),i=Number(s.substr(0,a)),n=Number(s.substr(a+1));if(i<2)var l=Number("1e"+n);else if(i<5)l=Number("2e"+n);else l=Number("5e"+n);this.step=l;var h="#666";this.removeAllChildren(),this.set({y:Y0});var c=new createjs.Shape;c.hitArea=new createjs.Shape,c.hitArea.graphics.f("#fff").r(-20,-this.y,40,400),this.addChild(c);var d=new createjs.Shape;d.graphics.ss(1.5).s(h).mt(0,30-this.y).lt(0,395-this.y),0<t?d.addArrow(h,0,395-this.y,-90):d.addArrow(h,0,30-this.y,90),d.graphics.f("#666").s("#666").ss(2).dc(0,0,1.5),d.graphics.s(h).ss(1);for(var p=0;p<=r;p+=l)if(e<=p){0!=p&&d.graphics.mt(-5,p*t).lt(0,p*t);for(var o=.2*l;o<l;o+=.2*l)p+o<r&&d.graphics.mt(-3,(p+(p<0?-1:1)*o)*t).lt(0,(p+(p<0?-1:1)*o)*t);(f=new createjs.Text(sngNumber(Number(p.toFixed(4))),"9px Trebuchet MS",h)).set({textAlign:"center"}),f.x=-16,f.y=p*t-4,this.addChild(f)}for(p=0;e-l<=p;p-=l)for(o=.2*l;o<l;o+=.2*l)e<p-o&&d.graphics.mt(-3,(p-o)*t).lt(0,(p-o)*t,3);for(p=0;e<=p;p-=l){var f;0!=p&&d.graphics.mt(-5,p*t).lt(0,p*t),(f=new createjs.Text(sngNumber(Number(p.toFixed(4))),"9px Trebuchet MS",h)).set({textAlign:"center"}),f.x=-16,f.y=p*t-4,this.addChild(f)}this.addChild(d)},createjs.Container.prototype.yAxisCreate=function(e,r,t){var s=Math.abs((r-e)/4.5).toExponential(1),a=s.indexOf("e"),i=Number(s.substr(0,a)),n=Number(s.substr(a+1));if(i<2)var l=Number("1e"+n);else if(i<5)l=Number("2e"+n);else l=Number("5e"+n);var h=0;l<1&&(h=1),this.step=l;var c="#E9E9E9",d="#E9E9E9",p="#666";this.removeAllChildren();var o=new createjs.Shape;o.graphics.ss(1.5).s(p).mt(0,e*t).lt(0,r*t-10),o.alpha=.8;for(var f=0;f<=r;f+=l){0!=f&&(o.graphics.ss(1).s(p).mt(-5,f*t).lt(0,f*t),gridFlag&&o.graphics.ss(1).s(c).mt(0,f*t).lt(Lpx,f*t)),(u=new createjs.Text(f.toFixed(h),"9px Trebuchet MS","#333")).set({textAlign:"right"}),u.y=f*t-4,u.x=-8,this.addChild(u)}for(f=-l;e<=f;f-=l){var u;o.graphics.ss(1).s(p).mt(-5,f*t).lt(0,f*t),gridFlag&&o.graphics.ss(1).s(c).mt(0,f*t).lt(Lpx,f*t),(u=new createjs.Text(f.toFixed(h),"9px Trebuchet MS","#333")).set({textAlign:"right"}),u.y=f*t-4,u.x=-8,this.addChild(u)}o.graphics.ss(.5).s(d);for(f=0;f<=r;f+=l)for(var x=.2*l;x<l;x+=.2*l)f+x<r&&(o.graphics.ss(1).s(p).mt(-3,(f+x)*t).lt(0,(f+x)*t),gridFlag&&o.graphics.ss(.5).s(d).mt(0,(f+x)*t).lt(Lpx,(f+x)*t));for(f=0;e<=f;f-=l)if(e<=f)for(x=.2*l;x<l;x+=.2*l)e<f-x&&(o.graphics.ss(1).s(p).mt(-3,(f-x)*t).lt(0,(f-x)*t),gridFlag&&o.graphics.ss(.5).s(d).mt(0,(f-x)*t).lt(Lpx,(f-x)*t));o.addArrow(p,0,r*t-10,90),o.graphics.s(p).ss(1),this.addChild(o)};