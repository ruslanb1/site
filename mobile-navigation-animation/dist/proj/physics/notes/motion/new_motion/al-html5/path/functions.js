
function round(t,e){return Number(t.toFixed(e))}function fixPeriod(t,e){return t-e*Math.floor(t/e)}function rnd(t,e){return Math.floor(Math.random()*(e-t+1))+t}function toExp(t){for(var e=t.toExponential(1),r=e.indexOf("e"),a=e.substr(0,r),n=e.substr(r+2),s="",i=e.substr(r+1,1),o=0;o<=n.length-1;o++){var c=n.substr(o,1);if("0"==c)return a;s+="1"==c?"¹":"2"==c?"²":"3"==c?"³":String.fromCharCode("0x207"+c)}return a+"·10"+("-"==i?"⁻":"")+s}function sngNumber(t){var e=t<=0?t.toString():"+"+t.toString();return e}function makeDragLine(t,e,r){null==t&&(t="#000000"),null==e&&(e="dragPoint"),null==r&&(r=100);var a=new createjs.Shape,n=a.graphics;return n.setStrokeStyle(2),n.beginStroke(t),n.mt(0,0).lt(0,r),n.endStroke(),n.endFill(),a.hitArea=new createjs.Shape,a.hitArea.graphics.setStrokeStyle(2),a.hitArea.graphics.beginStroke("#FFFFFF"),a.hitArea.graphics.beginFill("#FFFFFF"),a.hitArea.graphics.dr(-20,0,40,r),a.hitArea.graphics.endFill(),a.hitArea.graphics.endStroke(),a.hitArea.alpha=.1,a.name=e,a}function makeDragPoint(t,e,r){null==t&&(t="#000000"),null==e&&(e="dragPoint"),null==r&&(r=5);var a=new createjs.Shape,n=a.graphics;return n.setStrokeStyle(1),n.beginStroke("#000"),n.beginFill(t),n.dc(0,0,r),n.endStroke(),n.endFill(),a.hitArea=new createjs.Shape,a.hitArea.graphics.beginStroke("#FFFFFF"),a.hitArea.graphics.beginFill("#FFFFFF"),a.hitArea.graphics.dc(0,0,20),a.hitArea.graphics.endStroke(),a.hitArea.alpha=.01,a.name=e,a}function makePoint(t,e,r){null==t&&(t="#000000"),null==e&&(e="dragPoint"),null==r&&(r=5);var a=new createjs.Shape,n=a.graphics;return n.setStrokeStyle(1),n.beginStroke(t),n.beginFill(t),n.dc(0,0,r),n.endStroke(),n.endFill(),a.name=e,a}function createVector(t,e,r){null==t&&(t="#000000"),null==e&&(e=!1),null==r&&(r=!1);var a=new createjs.Container,n=new createjs.Shape,n=createLineVector(t);a.addChild(n);var s,i,o=new createjs.Shape,o=createArrowVector(t);return a.addChild(o),e&&(new createjs.Shape,s=createDragLineVector(),a.addChild(s)),r&&(new createjs.Shape,i=createCircleVector(t),a.addChild(i)),a}function createLineVector(t){null==t&&(t="#000000");var e=new createjs.Shape,r=e.graphics;return r.setStrokeStyle(2.5),r.beginStroke(t),r.moveTo(0,0),r.lineTo(100,0),r.endStroke(),e}function createDragLineVector(){var t=new createjs.Shape,e=t.graphics;return e.setStrokeStyle(25),e.beginStroke("#ffffff"),e.moveTo(0,0),e.lineTo(100,0),e.endStroke(),t.alpha=.01,t.name="dragLine",t}function createCircleVector(t){null==t&&(t="#000000");var e=new createjs.Shape,r=e.graphics;return r.beginFill("#000000"),r.dc(0,0,3),e.name="startVector",e.hitArea=new createjs.Shape,e.hitArea.graphics.beginFill("#FFFFFF"),e.hitArea.graphics.dc(0,0,10),e}function createArrowVector(t){null==t&&(t="#000000");var e=new createjs.Shape,r=e.graphics;return r.setStrokeStyle(1.5,"round","round"),r.beginStroke(t),r.beginFill(t),r.moveTo(0,0),r.lineTo(12*Math.cos(160*toRad),-12*Math.sin(160*toRad)),r.lineTo(-8,0),r.lineTo(12*Math.cos(200*toRad),-12*Math.sin(200*toRad)),r.closePath(),r.endFill(),r.endStroke(),e}function updateTextVector(t,e,r,a){var n=e.rotation;arrowVec=e.getChildAt(1);var s=arrowVec.x;s<0&&(s=Math.abs(s),n+=180);var i=(s=Math.abs(s))*Math.cos(n*toRad),o=s*Math.sin(n*toRad),c=e.x+i+r*Math.cos(n*toRad)+a*Math.cos((n+90)*toRad),d=e.y+o+r*Math.sin(n*toRad)+a*Math.sin((n+90)*toRad);t.x=c,t.y=d,t.textBaseline="alphabetic",t.textAlign="center",Math.abs(s)<5?t.alpha=0:t.alpha=1}function mouseDownVector(t){var e=canvas.width,r=canvas.height;t.target.offset={x:t.target.x-t.stageX*(720/e),y:t.target.y-t.stageY*(420/r)},t.target.addEventListener("pressmove",pressMoveVector),arc_mc.graphics.clear(),θText.visible=!1}function pressMoveVector(t){var e=canvas.width,r=canvas.height,a=t.stageX*(720/e)-t.target.x,n=t.stageY*(420/r)-t.target.y,s=Math.sqrt(a*a+n*n),i=Math.atan2(-n,a)*toDeg;xScale;drVec.setScaleX(s),drVec.rotation=-i,updateTextVector(drText,drVec,17,0),stage.update()}function pressUpVector(t){var e=point_mc.globalToLocal(stage.mouseX,stage.mouseY);Math.sqrt(e.x*e.x+e.y*e.y)<20?drawDr():(drVec.setScaleX(0),updateTextVector(drText,drVec,17,0)),stage.update(),t.target.removeEventListener("pressmove",pressMoveVector)}function calcF(t,e){var r,a,n,s,i,o,c,d;d=forceIsAct?(r=(_xmouse-X0)/xScale,a=(_ymouse-Y0)/yScale,n=X0+t*xScale,s=Y0+e*yScale,i=Math.atan2(a-e,r-t),c=(o=Math.sqrt((n-_xmouse)*(n-_xmouse)+(s-_ymouse)*(s-_ymouse))/2)*Math.cos(i),o*Math.sin(i)):c=i=o=0;var h=new Object;return h.Fx=c,h.Fy=d,h.F=o,h.φ=i,h}function clearGraph(){var t=graphX_mc.graphics;t.clear(),t.moveTo(X,Y),t.beginStroke("#FF8888"),t.setStrokeStyle(2.5,"round","round")}function drawArc(t,e,r,a,n,s,i){var o=t.graphics;o.clear(),o.mt(e,r),o.beginStroke("#0099FF"),o.arc(e,r,a,n,s,i),20<Math.abs(s*toDeg)&&t.addArrow("#0099Ff",e+a*Math.cos(s),r+a*Math.sin(s),-s*toDeg+(s<0?82.5:-82.5)),o.endStroke(),o.setStrokeStyle(1).setStrokeDash([3,3],0).beginStroke("#000000").mt(e,r).lt(e+40,r)}function myTween(){dr<drFinal-5?(dr+=5,drVec.setScaleX(dr)):(drVec.removeEventListener("tick",myTween),drawDr(),dr=0,stageUpdateFlag=!1,$("#play").button("option",{label:"Παύση",icons:{primary:"ui-icon-play"}}))}function drawDr(){var t=xPos[xPos.length-1]-xPos[0],e=yPos[yPos.length-1]-yPos[0];drFinal=Math.sqrt(t*t+e*e)*xScale;var r=Math.atan2(e,t)*toDeg;drVec.setScaleX(drFinal),drVec.rotation=-r,updateTextVector(drText,drVec,17,0),5<Math.abs(drFinal)&&(θText.visible=!0,drawArc(arc_mc,X0+xPos[0]*xScale,Y0+yPos[0]*yScale,25,0,-r*toRad,0<r?1:0),25<Math.abs(r)?(θText.x=X0+xPos[0]*xScale+32*Math.cos(r*toRad/2),θText.y=Y0+yPos[0]*yScale-32*Math.sin(r*toRad/2)):r<0?(θText.x=X0+xPos[0]*xScale+20,θText.y=Y0+yPos[0]*yScale-10):(θText.x=X0+xPos[0]*xScale+20,θText.y=Y0+yPos[0]*yScale+10))}function convertPositions(t,e,r){var a=new Object;return a.x=t*Math.cos(r)-e*Math.sin(r),a.y=t*Math.sin(r)+e*Math.cos(r),a}function drawRuler(t,e){ruler.removeAllChildren();var r=t*e,a=e/10,n=new createjs.Shape;n.graphics.ss(1).f("#FFFFCC").dr(0,0,r,25).s("#999").mt(0,0).lt(r,0).mt(0,25).lt(r,25),ruler.addChild(n);for(var s=a;s<=r;s+=a)s%(5*a)!=0&&n.graphics.ss(1).s("#666").mt(s,0).lt(s,3).mt(s,25).lt(s,22);for(s=0;s<=r;s+=5*a)s%e!=0&&n.graphics.ss(1).s("#666").mt(s,0).lt(s,4.5).mt(s,25).lt(s,19);for(s=0;s<=r;s+=e)n.graphics.ss(1.5).s("#666").mt(s,0).lt(s,6).mt(s,25).lt(s,19);for(s=0;s<=r;s+=e){var i=new createjs.Text((s/e).toFixed(0)+(s==r?"m":""),"10px Trebuchet MS ","#333");i.set({x:s,y:8,textAlign:"center"}),ruler.addChild(i)}n.name="shape";for(s=0;s<=1;s++){var o=new createjs.Shape;o.hitArea=new createjs.Shape,o.hitArea.graphics.f("#CCC").dc(0,0,25),o.set({x:s*r,y:10,name:"rotator"}),ruler.addChild(o)}var c=new createjs.Shape;c.hitArea=new createjs.Shape;var d=t*e/2;c.hitArea.graphics.f("#CCC").dc(0,0,10),c.graphics.ss(1.5).s("#666").dc(0,0,6),c.name="rotationPoint",c.set({x:d,y:12.5,name:"rotationPoint"}),ruler.addChild(c),ruler.regX=d,ruler.regY=12.5}Math.trunc=Math.trunc||function(t){return isNaN(t)?NaN:0<t?Math.floor(t):Math.ceil(t)},createjs.Container.prototype.setScaleX=function(t){var e=this.getChildAt(0),r=this.getChildAt(1),a=this.getChildByName("dragLine"),n=(this.getChildByName("startVector"),(r.x=t)<0?-1:1);25<=Math.abs(t)?(r.scaleX=n,e.scaleX=(t-n)/100,null!=a&&(a.scaleX=(t-n)/100)):(r.scaleX=4*t/100,e.scaleX=t/100-4*t/100/100,null!=a&&(a.scaleX=t/100-4*t/100/100))},createjs.Shape.prototype.addArrow=function(t,e,r,a){var n=this.graphics;n.ss(1),n.s(t),n.mt(e,r).lt(e+5*Math.cos((155+a)*toRad),r-5*Math.sin((155+a)*toRad)).mt(e,r).lt(e+5*Math.cos((205+a)*toRad),r-5*Math.sin((205+a)*toRad))},RungeKutta=function(){var e=fr1(x,y,vx,vy,t),r=fr2(x,y,vx,vy,t),a=fr3(x,y,vx,vy,t),n=fr4(x,y,vx,vy,t),s=fr1(x+dt*e/2,y+dt*r/2,vx+dt*a/2,vy+dt*n/2,t+dt/2),i=fr2(x+dt*e/2,y+dt*r/2,vx+dt*a/2,vy+dt*n/2,t+dt/2),o=fr3(x+dt*e/2,y+dt*r/2,vx+dt*a/2,vy+dt*n/2,t+dt/2),c=fr4(x+dt*e/2,y+dt*r/2,vx+dt*a/2,vy+dt*n/2,t+dt/2),d=fr1(x+dt*s/2,y+dt*i/2,vx+dt*o/2,vy+dt*c/2,t+dt/2),h=fr2(x+dt*s/2,y+dt*i/2,vx+dt*o/2,vy+dt*c/2,t+dt/2),l=fr3(x+dt*s/2,y+dt*i/2,vx+dt*o/2,vy+dt*c/2,t+dt/2),u=fr4(x+dt*s/2,y+dt*i/2,vx+dt*o/2,vy+dt*c/2,t+dt/2),g=fr1(x+dt*d,y+dt*h,vx+dt*l,vy+dt*u,t+dt),p=fr2(x+dt*d,y+dt*h,vx+dt*l,vy+dt*u,t+dt),v=fr3(x+dt*d,y+dt*h,vx+dt*l,vy+dt*u,t+dt),f=fr4(x+dt*d,y+dt*h,vx+dt*l,vy+dt*u,t+dt);x+=dt*(e+2*s+2*d+g)/6,y+=dt*(r+2*i+2*h+p)/6,vx+=dt*(a+2*o+2*l+v)/6,vy+=dt*(n+2*c+2*u+f)/6},fr1=function(t,e,r,a,n){return r},fr2=function(t,e,r,a,n){return a},fr3=function(t,e,r,a,n){var s=calcF(t,e),i=-b*r;return(s.Fx+i)/m},fr4=function(t,e,r,a,n){var s=calcF(t,e),i=-b*a;return(s.Fy+i)/m},createjs.Container.prototype.xMainAxisCreate=function(t,e,r){t=Math.trunc(t),e=Math.trunc(e);var a,n=Math.abs((e-t)/15).toExponential(1),s=n.indexOf("e"),i=Number(n.substr(0,s)),o=Number(n.substr(s+1));a=i<2?Number("1e"+o):i<5?Number("2e"+o):Number("5e"+o);this.step=a;var c="#666";this.removeAllChildren();var d=new createjs.Shape;d.graphics.f("#fff").r(-this.x,-7.5,720,25),this.addChild(d);var h=new createjs.Shape;h.graphics.ss(1.5).s(c).mt(-this.x,0).lt(720-this.x,0),h.addArrow(c,720-this.x,0,0),h.graphics.f("#666").s("#666").ss(2).dc(0,0,1.5),h.graphics.s(c).ss(1);for(var l=0;l<=e;l+=a){if(0!=l&&(h.graphics.mt(l*r,0).lt(l*r,5),(x=new createjs.Text(sngNumber(l),"9px Trebuchet MS",c)).set({textAlign:"center"}),x.x=l*r-2,x.y=8,this.addChild(x)),l<=e)for(var u=.2*a;u<a;u+=.2*a)h.graphics.mt((l+(l<0?-1:1)*u)*r,0).lt((l+(l<0?-1:1)*u)*r,3)}for(var x,l=0;t<=l;l-=a){if(0!=l&&(h.graphics.mt(l*r,0).lt(l*r,5),(x=new createjs.Text(sngNumber(l),"9px Trebuchet MS",c)).set({textAlign:"center"}),x.x=l*r-2,x.y=8,this.addChild(x)),t<=l)for(u=.2*a;u<a;u+=.2*a)h.graphics.mt((l-u)*r,0).lt((l-u)*r,3)}this.addChild(h)},createjs.Container.prototype.yMainAxisCreate=function(t,e,r){t=Math.trunc(t),e=Math.trunc(e);var a,n=Math.abs((e-t)/8).toExponential(1),s=n.indexOf("e"),i=Number(n.substr(0,s)),o=Number(n.substr(s+1));a=i<2?Number("1e"+o):i<5?Number("2e"+o):Number("5e"+o);this.step=a;var c="#666";this.removeAllChildren(),this.set({y:Y0});var d=new createjs.Shape;d.hitArea=new createjs.Shape,d.hitArea.graphics.f("#fff").r(-20,-this.y,40,400),this.addChild(d);var h=new createjs.Shape;h.graphics.ss(1.5).s(c).mt(0,8-this.y).lt(0,368-this.y),0<r?h.addArrow(c,0,400-this.y,-90):h.addArrow(c,0,8-this.y,90),h.graphics.f("#666").s("#666").ss(2).dc(0,0,1.5),h.graphics.s(c).ss(1);for(var l=0;l<=e-1;l+=a)if(t<=l){0!=l&&h.graphics.mt(-5,l*r).lt(0,l*r);for(var u=.2*a;u<a;u+=.2*a)l+u<.95*e&&h.graphics.mt(-3,(l+(l<0?-1:1)*u)*r).lt(0,(l+(l<0?-1:1)*u)*r);(x=new createjs.Text(sngNumber(Number(l.toFixed(4))),"9px Trebuchet MS",c)).set({textAlign:"center"}),x.x=-16,x.y=0!=l?l*r-4:l*r-4+12,this.addChild(x)}for(l=0;t-a<=l;l-=a)for(u=.2*a;u<a;u+=.2*a)t<l-u&&h.graphics.mt(-3,(l-u)*r).lt(0,(l-u)*r,3);for(var x,l=0;t<=l;l-=a){0!=l&&(h.graphics.mt(-5,l*r).lt(0,l*r),(x=new createjs.Text(sngNumber(Number(l.toFixed(4))),"9px Trebuchet MS",c)).set({textAlign:"center"}),x.x=-16,x.y=l*r-4,this.addChild(x))}this.addChild(h)};