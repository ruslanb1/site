

helpText.text = "Симулятор, с помощью которого мы можем изучать движение двух автомобилей. Чтобы изменить ускорение тела, мы можем перетащить вектор ускорения или изменить наклон диаграммы скорость-время. Чтобы изменить начальную скорость тела, можно перетащить вектор скорости или желтую точку на диаграмме скорость-время. Чтобы изменить начальное положение тела, мы можем перетащить тела, ось движения или желтую точку на диаграмме положение-время. Чтобы изменить время, нужно перетащить черные точки на одной из диаграмм в определенный момент времени. В меню можно настроить масштаб, чтобы сделать результаты более наглядными. Мы также можем перетащить ось времени на каждой диаграмме, чтобы поместить их в нужное положение."

var canvas,stage,self,controlBoxContainer,marginVarNumber=131,marginVar=marginVarNumber,PI=Math.PI,toDeg=180/PI,toRad=PI/180,X0=60,Y0=90,t=0,dt=.1,dtInitial=dt,dtSlow=dt,factor=.5,playMovie=!1,framePlay=!1,xScale=.75,yScale=-xScale,FScale=1,vectorScale=1,gridFlag=!0,valuesText=new createjs.Text("","12px Trebuchet MS");valuesText.set({x:360,y:385}),valuesText.set({textAlign:"center"});var xAxis=new createjs.Container;xAxis.name="xAxis",xAxis.addEventListener("mousedown",mouseDownGen),xAxis.addEventListener("pressup",pressUpGen),xAxis.mouseChildren=!1;var body1=carShape("#FF7F50");body1.name="body",body1.addEventListener("mousedown",mouseDownGen),body1.addEventListener("pressup",pressUpGen),body1.mouseChildren=!1,body1.scale=.8,body1.index=0;var body2=carShape("#0000FF");body2.name="body",body2.addEventListener("mousedown",mouseDownGen),body2.addEventListener("pressup",pressUpGen),body2.mouseChildren=!1,body2.scale=.8,body2.index=1;var bodies=new createjs.Container,bodyPoints=new createjs.Container,xPoints=new createjs.Container,vPoints=new createjs.Container,x1Points=new createjs.Container,v1Points=new createjs.Container,xi=new Array(0,0),vi=new Array(0,20),ai=new Array(2,0),x=new Array,v=new Array,color=new Array("#ff0000","#0000ff"),K=1,tSCALE=8,vSCALE=-2,xSCALE=-.15,vScale=2,aScale=16,Lpx=245,Hpx=105,YG=277,Xx=435,Yx=YG+.6*Hpx,Xv=60,Yv=YG,xPlots=new createjs.Container,vPlots=new createjs.Container,tAxisX=new createjs.Container;tAxisX.set({x:Xx,y:Yx});var tAxisV=new createjs.Container;tAxisV.set({x:Xv,y:Yv});var yAxisX=new createjs.Container;yAxisX.set({x:Xx,y:Yx});var yAxisV=new createjs.Container;yAxisV.set({x:Xv,y:Yv}),tAxisX.name="tAxisX",tAxisX.addEventListener("mousedown",mouseDownGen),tAxisX.addEventListener("pressup",pressUpGen),tAxisX.mouseChildren=!1,tAxisV.name="tAxisV",tAxisV.addEventListener("mousedown",mouseDownGen),tAxisV.addEventListener("pressup",pressUpGen),tAxisV.mouseChildren=!1;var xDotLines=new createjs.Container,vDotLines=new createjs.Container,xShapeMask=new createjs.Shape;xShapeMask.graphics.drawRect(Xx-15,YG-Hpx,Lpx+15,2*Hpx),xPlots.mask=xShapeMask,xPoints.mask=xShapeMask,x1Points.mask=xShapeMask,xDotLines.mask=xShapeMask;var vShapeMask=new createjs.Shape;vShapeMask.graphics.drawRect(Xv-3,YG-Hpx,Lpx+3,2*Hpx),vPlots.mask=vShapeMask,vPoints.mask=vShapeMask,v1Points.mask=vShapeMask,vDotLines.mask=vShapeMask;var txShapeMask=new createjs.Shape;txShapeMask.graphics.drawRect(Xx-5,YG-Hpx,Lpx+50,2*Hpx),tAxisX.mask=txShapeMask;var tvShapeMask=new createjs.Shape;tvShapeMask.graphics.drawRect(Xv-5,YG-Hpx,Lpx+50,2*Hpx),tAxisV.mask=tvShapeMask;var vVecs=new createjs.Container,aVecs=new createjs.Container,vVecTexts=new createjs.Container,aVecTexts=new createjs.Container,vGraphText=vGraphTextShape(),xGraphText=xGraphTextShape(),tvGraphText=tGraphTextShape(),txGraphText=tGraphTextShape(),bodyClones=new createjs.Container;bodyClones.visible=!1;var dT=.25,k=0,mySlider=new createjs.Container,xtGraphFlagVisible=!0,xtGraphContainer=new createjs.Container;xtGraphContainer.visible=xtGraphFlagVisible;var vtGraphFlagVisible=!0,vtGraphContainer=new createjs.Container;vtGraphContainer.visible=vtGraphFlagVisible;var cars=new createjs.Container;function init(){stage=new createjs.Stage(document.getElementById("demoCanvas")),createjs.Touch.enable(stage),stage.enableMouseOver(),stage.enableDOMEvents(!0),canvas=document.getElementById("demoCanvas"),self=stage,controlBoxContainer=new createjs.Container,self.addChild(controlBoxContainer);var e=new createjs.DOMElement("foo");controlBoxContainer.addChild(e),controlBoxContainer.x=2.5,controlBoxContainer.y=2.5,cars.addChild(xAxis),xtGraphContainer.addChild(tAxisX),xtGraphContainer.addChild(yAxisX),vtGraphContainer.addChild(tAxisV),vtGraphContainer.addChild(yAxisV),stage.addChild(valuesText),vtGraphContainer.addChild(vDotLines),xtGraphContainer.addChild(xDotLines),body1.set({x:X0,y:-18}),body2.set({x:X0,y:50}),cars.addChild(bodyClones),bodies.addChild(body1),bodies.addChild(body2),cars.addChild(bodies),cars.addChild(bodyPoints),xtGraphContainer.addChild(xPlots),vtGraphContainer.addChild(vPlots),xtGraphContainer.addChild(xPoints),vtGraphContainer.addChild(vPoints),xtGraphContainer.addChild(x1Points),vtGraphContainer.addChild(v1Points),xtGraphContainer.addChild(xShapeMask),vtGraphContainer.addChild(vShapeMask),xtGraphContainer.addChild(txShapeMask),vtGraphContainer.addChild(tvShapeMask),cars.addChild(vVecs),cars.addChild(aVecs),cars.addChild(vVecTexts),cars.addChild(aVecTexts),vtGraphContainer.addChild(vGraphText),xtGraphContainer.addChild(xGraphText),vtGraphContainer.addChild(tvGraphText),xtGraphContainer.addChild(txGraphText),stage.addChild(xtGraphContainer),stage.addChild(vtGraphContainer),stage.addChild(cars),mySlider.slider(200),mySlider.set({x:355,y:15.5}),self.addChild(mySlider),createRegister(),stage.addChild(Ψ),addFunction(),showHideVariables(),handleComplete(),initialize(),createjs.Ticker.timingMode=createjs.Ticker.RAF,createjs.Ticker.addEventListener("tick",tick),canvas.style.visibility="visible",document.getElementById("variables").style.visibility="visible"}function calculationsAt(e){for(var a=0;a<=K;a++)v[a]=vi[a]+ai[a]*e,x[a]=xi[a]+vi[a]*e+.5*ai[a]*e*e}function initialize(){mySlider.getChildAt(1).x=100,xAxis.xAxisCreate(-X0/xScale,(710-X0)/xScale,xScale);for(var e=0;e<=K;e++){var a=makePoint(0==e?"#ff0000":"#0000ff","bodyPoints"+e.toString(),2);a.y=0,bodyPoints.addChild(a);var t=makeDragPoint("#000","xPoint",2.5);xPoints.addChild(t),t.addEventListener("mousedown",mouseDownGen),t.addEventListener("pressup",pressUpGen),t.mouseChildren=!1;var s=makeDragPoint("#000","vPoint",2.5);vPoints.addChild(s),s.addEventListener("mousedown",mouseDownGen),s.addEventListener("pressup",pressUpGen),s.mouseChildren=!1;var n=new createjs.Shape;xDotLines.addChild(n);var i=new createjs.Shape;vDotLines.addChild(i);var r=createVector(color[e],!0,!0),d=vTextShape();r.addEventListener("mousedown",mouseDownVector),r.addEventListener("pressup",pressUpVector),r.mouseChildren=!1,r.name="vVec",r.index=e,r.y=bodies.getChildAt(e).y-24,vVecs.addChild(r),vVecTexts.addChild(d);var o=createVector("#006600",!0,!0),x=aTextShape();o.addEventListener("mousedown",mouseDownVector),o.addEventListener("pressup",pressUpVector),o.mouseChildren=!1,o.name="aVec",o.index=e,o.y=bodies.getChildAt(e).y-35,aVecs.addChild(o),aVecTexts.addChild(x);var l=new createjs.Shape;xPlots.addChild(l);var v=new createjs.Shape;vPlots.addChild(v),v.name="vPlot",v.index=e,v.addEventListener("mousedown",mouseDownGen),v.addEventListener("pressup",pressUpGen),v.mouseChildren=!1;var h=makeDragPoint("#FFFF00","x1Point",2.8);h.addEventListener("mousedown",mouseDownGen),h.addEventListener("pressup",pressUpGen),h.mouseChildren=!1,h.index=e,x1Points.addChild(h);var C=makeDragPoint("#FFFF00","v1Point",2.8);C.addEventListener("mousedown",mouseDownGen),C.addEventListener("pressup",pressUpGen),C.mouseChildren=!1,C.index=e,v1Points.addChild(C)}vGraphText.set({x:Xv,y:Yv-Hpx-11-8}),xGraphText.set({x:Xx,y:262-Hpx-6}),tvGraphText.set({x:Xv+Lpx+26,y:Yv}),txGraphText.set({x:Xx+Lpx+26,y:Yx}),restart()}cars.y=Y0;var DYMinV=YG+Hpx-Yv,DYMaxV=2*Hpx-DYMinV,DYMinX=YG+Hpx-Yx,DYMaxX=2*Hpx-DYMinX;function drawAllGraphs(){tEnd=Lpx/tSCALE,tAxisX.tAxisCreate(Lpx/tSCALE,tSCALE),yAxisX.yAxisCreate(DYMinX/xSCALE,-DYMaxX/xSCALE,xSCALE),tAxisV.tAxisCreate(Lpx/tSCALE,tSCALE),yAxisV.yAxisCreate(DYMinV/vSCALE,-DYMaxV/vSCALE,vSCALE);for(var e=0;e<=K;e++){var a=xPlots.getChildAt(e);xDrawGraph(a,xi[e],vi[e],ai[e],t0,tEnd,color[e]),a.set({x:Xx,y:Yx});var t=vPlots.getChildAt(e);vDrawLGraph(t,t0*tSCALE,vi[e]*vSCALE,tEnd*tSCALE,(vi[e]+ai[e]*(tEnd-t0))*vSCALE,color[e]),t.set({x:Xv,y:Yv}),x1Points.getChildAt(e).x=Xx,x1Points.getChildAt(e).y=Yx+xi[e]*xSCALE,v1Points.getChildAt(e).x=Xv,v1Points.getChildAt(e).y=Yv+vi[e]*vSCALE}}function addClone(){for(var e=0;e<=K;e++){var a=bodies.getChildAt(e).clone(!0);a.alpha=.5,bodyClones.addChild(a)}}function clearSomeClones(){if(20<=(t=bodyClones.numChildren))for(var e=0;e<=t-20;e++){var a=bodyClones.getChildAt(0);bodyClones.removeChild(a)}var t;for(e=t=bodyClones.numChildren-1;0<=e;e--){(a=bodyClones.getChildAt(e)).alpha=.5-.025*(t-e)}}function restart(){isOk||stage.removeAllChildren(),t0=0,t=0,bodyClones.removeAllChildren(),calculationsAt(t),drawAllGraphs(),k=0,dT=tAxisX.step/2,positions()}function tick(e){playMovie&&(framePlay=framePlay&&(playMovie=!1),t+=dt,calculationsAt(t=Number(t.toPrecision(5))),positions())}function positions(){for(var e=0;e<=K;e++){var a=bodies.getChildAt(e),s=xPoints.getChildAt(e),n=vPoints.getChildAt(e),i=xDotLines.getChildAt(e),r=vDotLines.getChildAt(e),d=vVecs.getChildAt(e),o=aVecs.getChildAt(e),l=vVecTexts.getChildAt(e),h=aVecTexts.getChildAt(e),C=bodyPoints.getChildAt(e);v[e]<0?a.scaleX=-Math.abs(a.scaleX):0<v[e]?a.scaleX=Math.abs(a.scaleX):0==v[e]&&(0<=ai[e]?a.scaleX=Math.abs(a.scaleX):a.scaleX=-Math.abs(a.scaleX));var p=X0+x[e]*xScale;d.x=p,d.setScaleX(v[e]*vScale*vectorScale),updateTextVector(l,d,8,0),d.getChildAt(3).alpha=l.alpha,o.x=p,o.setScaleX(ai[e]*aScale*vectorScale),updateTextVector(h,o,8,0),o.getChildAt(3).alpha=h.alpha,C.x=a.x=p,s.x=Xx+t*tSCALE,s.y=Yx+x[e]*xSCALE,n.x=Xv+t*tSCALE,n.y=Yv+v[e]*vSCALE,i.graphics.clear(),r.graphics.clear(),t<tEnd&&x[e]>DYMinX/xSCALE&&x[e]<-DYMaxX/xSCALE&&i.graphics.ss(1).s(color[e]).sd([3,3],3).mt(Xx,Yx+x[e]*xSCALE).lt(Xx+t*tSCALE,Yx+x[e]*xSCALE).lt(Xx+t*tSCALE,Yx),t<tEnd&&v[e]>DYMinV/vSCALE&&v[e]<-DYMaxV/vSCALE&&r.graphics.ss(1).s(color[e]).sd([3,3],3).mt(Xv,Yv+v[e]*vSCALE).lt(Xv+t*tSCALE,Yv+v[e]*vSCALE).lt(Xv+t*tSCALE,Yv)}k<=t/dT&&(k++,bodyClones.visible&&addClone()),clearSomeClones(),valuesText.text="t = "+t.toFixed(1)+" с,  x₁ = "+x[0].toFixed(1)+" м,  υ₁ = "+v[0].toFixed(1)+" м/с,  α₁ = "+ai[0].toFixed(1)+" м/с², x₂ = "+x[1].toFixed(1)+" м,  υ₂ = "+v[1].toFixed(1)+" м/с,  α₂ = "+ai[1].toFixed(1)+" м/с²",stage.update()}function xDrawGraph(e,a,t,s,n,i,r){var d,o=(i-n)/50,x=e.graphics;for(x.clear(),x.setStrokeStyle(2),x.beginStroke(r),x.moveTo(n*tSCALE,a*xSCALE),d=n;d<=i;d+=o)x.lineTo(d*tSCALE,(a+t*(d-n)+.5*s*(d-n)*(d-n))*xSCALE);x.lineTo(i*tSCALE,(a+t*(i-n)+.5*s*(i-n)*(i-n))*xSCALE),e.alpha=.8}function vDrawLGraph(e,a,t,s,n,i){var r=e.graphics;r.clear(),e.hitArea=new createjs.Shape,e.hitArea.graphics.setStrokeStyle(20),e.hitArea.graphics.beginStroke("#FFFFFF"),e.hitArea.graphics.moveTo(a,t),e.hitArea.graphics.lineTo(s,n),e.hitArea.graphics.endStroke(),r.setStrokeStyle(2),r.beginStroke(i),r.moveTo(a,t),r.lineTo(s,n),r.endStroke(),e.alpha=.8}