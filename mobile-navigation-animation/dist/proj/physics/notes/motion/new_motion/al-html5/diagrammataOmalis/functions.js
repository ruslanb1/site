

function rnd(a,b){return Math.floor(Math.random()*(b-a+1))+a}function toExp(a){var b=a.toExponential(1),c=b.indexOf("e");a=b.substr(0,c);var d=b.substr(c+2),e="";b=b.substr(c+1,1);for(c=0;c<=d.length-1;c++){var f=d.substr(c,1);if("0"==f)return a;e="1"==f?e+"\u00b9":"2"==f?e+"\u00b2":"3"==f?e+"\u00b3":e+String.fromCharCode("0x207"+f)}return a+"\u00b710"+("-"==b?"\u207b":"")+e}function sngNumber(a){return 0>=a?a.toString():"+"+a.toString()}
function makeDragLine(a,b,c){void 0==a&&(a="#000000");void 0==b&&(b="dragPoint");void 0==c&&(c=100);var d=new createjs.Shape,e=d.graphics;e.setStrokeStyle(2);e.beginStroke(a);e.mt(0,0).lt(0,c);e.endStroke();e.endFill();d.hitArea=new createjs.Shape;d.hitArea.graphics.setStrokeStyle(2);d.hitArea.graphics.beginStroke("#FFFFFF");d.hitArea.graphics.beginFill("#FFFFFF");d.hitArea.graphics.dr(-20,0,40,c);d.hitArea.graphics.endFill();d.hitArea.graphics.endStroke();d.hitArea.alpha=.1;d.name=b;return d}
function makeDragPoint(a,b,c){void 0==a&&(a="#000000");void 0==b&&(b="dragPoint");void 0==c&&(c=5);var d=new createjs.Shape,e=d.graphics;e.setStrokeStyle(1);e.beginStroke("#000000");e.beginFill(a);e.dc(0,0,c);e.endStroke();e.endFill();d.hitArea=new createjs.Shape;d.hitArea.graphics.beginStroke("#FFFFFF");d.hitArea.graphics.beginFill("#FFFFFF");d.hitArea.graphics.dc(0,0,15);d.hitArea.graphics.endStroke();d.hitArea.alpha=.01;d.name=b;return d}
function makePoint(a,b,c){void 0==a&&(a="#000000");void 0==b&&(b="dragPoint");void 0==c&&(c=5);var d=new createjs.Shape,e=d.graphics;e.setStrokeStyle(1);e.beginStroke(a);e.beginFill(a);e.dc(0,0,c);e.endStroke();e.endFill();d.name=b;return d}function makeGraphPoint(){var a=new createjs.Shape,b=a.graphics;b.setStrokeStyle(1);b.beginStroke("#000");b.beginFill("#fff");b.dc(0,0,2.5);b.endStroke();b.endFill();return a}
function createVector(a,b,c){void 0==a&&(a="#000000");void 0==b&&(b=!1);void 0==c&&(c=!1);var d=new createjs.Container;new createjs.Shape;var e=createLineVector(a);d.addChild(e);new createjs.Shape;e=createArrowVector(a);d.addChild(e);b&&(new createjs.Shape,b=createDragLineVector(),d.addChild(b));c&&(new createjs.Shape,a=createCircleVector(a),d.addChild(a));return d}
function createLineVector(a){void 0==a&&(a="#000000");var b=new createjs.Shape,c=b.graphics;c.setStrokeStyle(2.5);c.beginStroke(a);c.moveTo(0,0);c.lineTo(100,0);c.endStroke();return b}function createDragLineVector(){var a=new createjs.Shape,b=a.graphics;b.setStrokeStyle(25);b.beginStroke("#ffffff");b.moveTo(0,0);b.lineTo(100,0);b.endStroke();a.alpha=.01;a.name="dragLine";return a}
function createCircleVector(a){a=new createjs.Shape;var b=a.graphics;b.beginFill("#000000");b.dc(0,0,3);a.name="startVector";return a}function createArrowVector(a){void 0==a&&(a="#000000");var b=new createjs.Shape,c=b.graphics;c.setStrokeStyle(1.5,"round","round");c.beginStroke(a);c.beginFill(a);c.moveTo(0,0);c.lineTo(8*Math.cos(155*toRad),-8*Math.sin(155*toRad));c.lineTo(-5.5,0);c.lineTo(8*Math.cos(205*toRad),-8*Math.sin(205*toRad));c.closePath();c.endFill();c.endStroke();return b}
createjs.Container.prototype.setScaleX=function(a){var b=this.getChildAt(0),c=this.getChildAt(1),d=this.getChildByName("dragLine");this.getChildByName("startVector");c.x=a;var e=0>a?-1:1;25<=Math.abs(a)?(c.scaleX=e,b.scaleX=(a-e)/100,null!=d&&(d.scaleX=(a-e)/100)):(c.scaleX=4*a/100,b.scaleX=a/100-4*a/100/100,null!=d&&(d.scaleX=a/100-4*a/100/100))};
function updateTextVector(a,b,c,d){var e=b.rotation;arrowVec=b.getChildAt(1);var f=arrowVec.x;0>f&&(f=Math.abs(f),e+=180);f=Math.abs(f);var g=b.y+f*Math.sin(e*toRad)+c*Math.sin(e*toRad)+d*Math.sin((e+90)*toRad);a.x=b.x+f*Math.cos(e*toRad)+c*Math.cos(e*toRad)+d*Math.cos((e+90)*toRad);a.y=g;a.textBaseline="alphabetic";a.textAlign="center";a.alpha=5>Math.abs(f)?0:1}
function mouseDownVector(a){a.target.offset={x:a.target.x-720/canvas.width*a.stageX,y:a.target.y-420/canvas.height*a.stageY};a.target.addEventListener("pressmove",pressMoveVector)}function pressMoveVector(a){var b=canvas.width;"vVec"==a.target.name?(v0=Number(((720/b*a.stageX-a.target.x)/vScale).toFixed(1)),x0=x):"aVec"==a.target.name&&(\u03b1=Number(((720/b*a.stageX-a.target.x)/aScale).toFixed(1)),x0=x);updateSlidersAndSpinners();restart();stage.update()}
function pressUpVector(a){a.target.removeEventListener("pressmove",pressMoveVector);a=.1*yAxisX.step;x0=Math.round(x/a)*a;v0=.1*Math.round(v0/.1);a=.1*yAxisA.step;\u03b1=Math.round(\u03b1/a)*a;updateSlidersAndSpinners();restart()}
createjs.Shape.prototype.drawDistance=function(a,b,c,d,e,f){void 0==a&&(a="#000000");var g=this.graphics;g.clear();var h=Math.sqrt((d-b)*(d-b)+(e-c)*(e-c));d=Math.atan2(-(e-c),d-b);2<h&&(e=8*(25<h?1:4*h/100),g.setStrokeStyle(1,"round","round"),g.beginStroke(a),g.mt(e*Math.cos(25*toRad),-e*Math.sin(25*toRad)).lt(0,0).lt(e*Math.cos(25*toRad),+e*Math.sin(25*toRad)),g.mt(0,0).lt(h,0).lt(h+e*Math.cos(155*toRad),-e*Math.sin(155*toRad)).mt(h,0).lt(h+e*Math.cos(205*toRad),-e*Math.sin(205*toRad)),g.setStrokeStyle(1),
g.setStrokeDash([2,2],2),g.beginStroke(a),g.mt(0,f/2).lt(0,-f/2),g.mt(h,f/2).lt(h,-f/2),g.endStroke(),g.beginFill("#FFFFFF"),g.dr(h/2-20,-6,40,12),this.rotation=-d*toDeg,this.regX=f*Math.cos(Math.PI/2),this.regY=-f*Math.sin(Math.PI/2),this.x=b,this.y=c)};function fixPeriod(a,b){return a-b*Math.floor(a/b)}var shifted=!1;$(document).on("keyup keydown",function(a){shifted=a.shiftKey});
createjs.Container.prototype.slider=function(a){function b(c){var b=720/canvas.width*c.stageX+c.target.offset.x;0>b&&(b=0);b>a&&(b=a);c.target.x=b;dt=dtSlow=Math.round(10*Math.pow(10,b/(a/2)-1))/10*dtInitial;stage.update()}var c=new createjs.Shape,d=c.graphics;this.addChild(c);d.setStrokeStyle(1);d.beginStroke("#aaa");for(var e=a/10,f=0;10>=f;f++)d.mt(f*e,-2).lt(f*e,-6);d.beginFill("#eee");d.r(0,-2,a,4);d.endFill();c.hitArea=new createjs.Shape;c.hitArea.graphics.beginStroke("#FFFFFF");c.hitArea.graphics.beginFill("#FFFFFF");
c.hitArea.graphics.r(0,-10,a,20);c.hitArea.graphics.endStroke();c.hitArea.alpha=.01;c=new createjs.Shape;this.addChild(c);d=c.graphics;d.setStrokeStyle(1);d.beginStroke("#aaa");d.beginFill("#eee");d.r(-6,-6,12,12);c.hitArea=new createjs.Shape;c.hitArea.graphics.beginStroke("#FFFFFF");c.hitArea.graphics.beginFill("#FFFFFF");c.hitArea.graphics.dc(0,0,20);c.hitArea.graphics.endStroke();c.hitArea.alpha=.01;d=new createjs.Text("","10px Trebuchet MS","#666666");d.set({textAlign:"center"});d.x=a/2;d.y=-20;
this.addChild(d);c.on("mousedown",function(a){a.target.offset={x:a.target.x-720/canvas.width*a.stageX,y:a.target.y-420/canvas.height*a.stageY};a.target.addEventListener("pressmove",b)})};createjs.Shape.prototype.addArrow=function(a,b,c,d){var e=this.graphics;e.ss(1);e.s(a);e.mt(b,c).lt(b+7*Math.cos((152.5+d)*toRad),c-7*Math.sin((152.5+d)*toRad)).mt(b,c).lt(b+7*Math.cos((207.5+d)*toRad),c-7*Math.sin((207.5+d)*toRad))};