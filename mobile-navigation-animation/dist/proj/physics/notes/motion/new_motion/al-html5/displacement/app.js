

helpText.text = "Приложение, с помощью которого можно изучать положение и перемещение тела при линейном движении. В качестве опорных точек можно выбрать объекты в нижнем ряду и установить на оси. Вы также можете передвигвть человека, катающегося на коньках, и ось. Для отображения непрерывных перемещений установите соответствующую галочку <<Приращения>>. Нажатие клавиши перезапуска удаляет перемещения."

var canvas,stage,self,controlBoxContainer,marginVarNumber=0,marginVar=marginVarNumber,colorArray=new Array("#E24F26","#2C53A2","#009900","#A08A6F","#0000FF","#33CCCC","#CC6633","#663399","#FF33FF"),PI=Math.PI,toDeg=180/PI,toRad=PI/180,X0=360,Y0=120,Ya=Y0+50+18,t=0,dt=1/120,dtInitial=dt,dtSlow=dt,factor=.5,playMovie=!1,framePlay=!1,xScale=40,yScale=-xScale,FScale=1,vectorScale=1,valuesText=new createjs.Text("","16px Trebuchet MS ");valuesText.set({x:360,y:55}),valuesText.set({textAlign:"center"});var valuesText2=new createjs.Text("","16px Trebuchet MS ");valuesText2.set({x:360,y:280}),valuesText2.set({textAlign:"center"});var Xi,xi=0,mountain=mountainShape(),basketball=basketballShape(),park=parkShape(),home=homeShape(),linux=linuxShape(),pinBc=pinShape("#000"),pinR=pinShape("#DFD6E4"),pinG=pinShape("#009900"),pinB=pinShape("#0000ff"),skating=skatingShape();skating.set({x:X0+xi*xScale,y:Ya-18,name:"skating"}),skating.addEventListener("mousedown",mouseDownGen),skating.addEventListener("pressup",pressUpGen),skating.mouseChildren=!1;var xAxis=new createjs.Container;xAxis.name="xAxis",xAxis.addEventListener("mousedown",mouseDownGen),xAxis.addEventListener("pressup",pressUpGen),xAxis.mouseChildren=!1;var objects=new createjs.Container,vectors=new createjs.Container,flag=!0,ΔxVec=createVector("#0000ff",!1,!0);ΔxVec.setScaleX(0),ΔxVec.y=Ya;var ΔxText=ΔxTextShape(),xText=xTextShape(),xVec=createVector("#ff0000",!1,!0);xVec.setScaleX(0),xVec.y=Ya;var xVecText=xTextShape();function init(){stage=new createjs.Stage(document.getElementById("demoCanvas")),createjs.Touch.enable(stage),stage.enableMouseOver(),stage.enableDOMEvents(!0),canvas=document.getElementById("demoCanvas"),self=stage,controlBoxContainer=new createjs.Container,self.addChild(controlBoxContainer);var e=new createjs.DOMElement("foo");controlBoxContainer.addChild(e),controlBoxContainer.x=2.5,controlBoxContainer.y=2.5;var t=new createjs.Shape;t.graphics.ss(1).s("#ccc").sd([5,5],0).mt(0,Y0+28).lt(720,Y0+28),stage.addChild(t),xText.set({x:716,y:Ya-10}),stage.addChild(xAxis),objects.addChild(mountain),objects.addChild(basketball),objects.addChild(park),objects.addChild(home),objects.addChild(linux),objects.addChild(pinBc),objects.addChild(pinR),objects.addChild(pinG),objects.addChild(pinB),stage.addChild(objects),stage.addChild(skating),stage.addChild(vectors),stage.addChild(valuesText),stage.addChild(valuesText2),stage.addChild(ΔxVec),stage.addChild(ΔxText),stage.addChild(xVec),stage.addChild(xVecText),stage.addChild(xText),createRegister(),stage.addChild(Ψ),addFunction(),pos=2,showHideVariables(),handleComplete(),stage.getChildByName("variablesSymbolTxt").visible=!1,variablesSh.visible=!1,initialize(),createjs.Ticker.timingMode=createjs.Ticker.RAF,createjs.Ticker.addEventListener("tick",tick),canvas.style.visibility="visible",document.getElementById("variables").style.visibility="visible"}function initialize(){xAxis.xAxisCreate(-X0/xScale,(710-X0)/xScale,xScale);for(var e=objects.numChildren,t=(720-2*(e-1)*xScale)/2,a=0;a<=e-1;a++){var s=objects.getChildAt(a);s.set({x:t+2*a*xScale,y:335}),s.initialPosX=s.x,s.addEventListener("mousedown",mouseDownGen),s.addEventListener("pressup",pressUpGen),s.mouseChildren=!1}restart()}function restart(){isOk||stage.removeAllChildren(),Xi=skating.x,xi=(Xi-X0)/xScale,ΔxVec.x=Xi,ΔxVec.setScaleX(0),updateTextVector(ΔxText,ΔxVec,0,0),newLine=1.4,count=0,skating.scaleX=.3,vectors.removeAllChildren(),positions()}function tick(e){playMovie&&(framePlay=framePlay&&(playMovie=!1),positions())}function positions(){xVec.x=X0,xVec.setScaleX(skating.x-X0),updateTextVector(xVecText,xVec,-12.5,0<skating.x-X0?-5:5),printDx(),stage.update()}function getRandomColor(){return"#"+Math.random().toString(16).slice(2,8).toUpperCase()}function printDx(){var e=vectors.numChildren,t=0,a=0;valuesText.text=0!=e?"Δx = ":"";for(var s=0;s<=e-1;s++){var i=vectors.getChildAt(s),n=i.getChildAt(0);t+=100*n.scaleX,a+=Math.abs(100*n.scaleX),1==e?(valuesText.text="Δx = x"+deiktis2+" - x"+deiktis1+" = ( "+sngNumber(Math.round((100*n.scaleX+Xi-X0)/xScale))+" ) - ( "+sngNumber(Math.round((Xi-X0)/xScale))+" ) = "+sngNumber(Math.round(100*n.scaleX/xScale))+" m",updateTextVector(ΔxText,i,12,0)):(valuesText.text+=(0!=s?"+":"")+"("+sngNumber(Math.round(100*n.scaleX/xScale))+")",updateTextVector(ΔxText,ΔxVec,-Math.abs(t/2),0<t?-8:8))}valuesText.text+=2<=s?" = "+sngNumber(Math.round(t/xScale))+" m":"",valuesText2.text="s = "+Math.round(a/xScale)+" m"}xVec.visible=xVecText.visible=!1,createjs.Container.prototype.xAxisCreate=function(e,t,a){var s,i=Math.abs((t-e)/15).toExponential(1),n=i.indexOf("e"),r=Number(i.substr(0,n)),l=Number(i.substr(n+1));s=r<2?Number("1e"+l):r<5?Number("2e"+l):Number("5e"+l);this.step=s;var x="#666";this.removeAllChildren(),this.set({x:X0,y:Ya});var d=new createjs.Shape;d.graphics.f("#fff").r(-this.x,-7.5,720,25),this.addChild(d);var c=new createjs.Shape;c.graphics.ss(1.5).s(x).mt(-this.x,0).lt(720-this.x,0),c.addArrow(x,720-this.x,0,0),c.graphics.f("#666").s("#666").ss(2).dc(0,0,1.5),c.graphics.s(x).ss(1);for(var o=0;o<=t;o+=s){if(0!=o&&c.graphics.mt(o*a,0).lt(o*a,5),o<=t-.5*s)for(var h=.2*s;h<s;h+=.2*s)c.graphics.mt((o+(o<0?-1:1)*h)*a,0).lt((o+(o<0?-1:1)*h)*a,3);(u=new createjs.Text(sngNumber(o),"9px Trebuchet MS",x)).set({textAlign:"center"}),u.x=o*a-2,u.y=8,this.addChild(u)}for(var u,o=0;e<=o;o-=s){if(0!=o&&c.graphics.mt(o*a,0).lt(o*a,5),e<=o)for(h=.2*s;h<s;h+=.2*s)c.graphics.mt((o-h)*a,0).lt((o-h)*a,3);(u=new createjs.Text(sngNumber(o),"9px Trebuchet MS",x)).set({textAlign:"center"}),u.x=o*a-2,u.y=8,this.addChild(u)}this.addChild(c)};