/*!
* © by Sitsanlis Ilias
* This notice shall be included in all copies or substantial portions of the Software.
* Creative Commons 4.0/CC BY - NC - SA 4.0. 
*/

function makePoint(e,t,a){null==e&&(e="#000000"),null==t&&(t="dragPoint"),null==a&&(a=5);var r=new createjs.Shape,n=r.graphics;return n.setStrokeStyle(1),n.beginStroke(e),n.beginFill(e),n.dc(0,0,a),n.endStroke(),n.endFill(),r.name=t,r}function createVector(e,t,a){null==e&&(e="#000000"),null==t&&(t=!1),null==a&&(a=!1);var r=new createjs.Container,n=new createjs.Shape,n=createLineVector(e);r.addChild(n);var o,i,c=new createjs.Shape,c=createArrowVector(e);return r.addChild(c),t&&(new createjs.Shape,o=createDragLineVector(),r.addChild(o)),a&&(new createjs.Shape,i=createCircleVector(e),r.addChild(i)),r}function createLineVector(e){null==e&&(e="#000000");var t=new createjs.Shape,a=t.graphics;return a.setStrokeStyle(2.5),a.beginStroke(e),a.moveTo(0,0),a.lineTo(100,0),a.endStroke(),t}function createDragLineVector(){var e=new createjs.Shape;return e.hitArea=new createjs.Shape,e.hitArea.graphics.f("#fff").dr(0,-10,100,20),e.name="dragLine",e}function createCircleVector(e){null==e&&(e="#000000");var t=new createjs.Shape,a=t.graphics;return a.beginFill(e),a.dc(0,0,3),t.name="startVector",t}function createArrowVector(e){null==e&&(e="#000000");var t=Math.PI/180,a=new createjs.Shape,r=a.graphics;return r.setStrokeStyle(1.5,"round","round"),r.beginStroke(e),r.beginFill(e),r.moveTo(0,0),r.lineTo(8*Math.cos(155*t),-8*Math.sin(155*t)),r.lineTo(-5.5,0),r.lineTo(8*Math.cos(205*t),-8*Math.sin(205*t)),r.closePath(),r.endFill(),r.endStroke(),a.x=100,a}function updateTextVector(e,t,a,r){var n=t.rotation;arrowVec=t.getChildAt(1);var o=arrowVec.x;o<0&&(o=Math.abs(o),n+=180);var i=(o=Math.abs(o))*Math.cos(n*toRad),c=o*Math.sin(n*toRad),s=t.x+i+a*Math.cos(n*toRad)+r*Math.cos((n+90)*toRad),l=t.y+c+a*Math.sin(n*toRad)+r*Math.sin((n+90)*toRad);e.x=s,e.y=l,e.textBaseline="alphabetic",e.textAlign="center",Math.abs(o)<5?e.alpha=0:e.alpha=1}function mouseDownVector(e){canvas.width,canvas.height;e.target.addEventListener("pressmove",pressMoveVector)}function pressMoveVector(e){canvas.width;var t=canvas.height;vi=Number(((-e.stageY*(420/t)+e.target.y)/vScale).toFixed(1)),v=vi,updateSpinnersAndSliders(),initializeEnergy(),positions()}function pressUpVector(e){e.target.removeEventListener("pressmove",pressMoveVector)}createjs.Container.prototype.setScaleX=function(e){var t=this.getChildAt(0),a=this.getChildAt(1),r=this.getChildByName("dragLine"),n=(this.getChildByName("startVector"),(a.x=e)<0?-1:1);25<=Math.abs(e)?(a.scaleX=n,t.scaleX=(e-n)/100,null!=r&&(r.scaleX=(e-n)/100)):(a.scaleX=4*e/100,t.scaleX=e/100-4*e/100/100,null!=r&&(r.scaleX=e/100-4*e/100/100))},createjs.Shape.prototype.addArrow=function(e,t,a,r){var n=this.graphics;n.ss(1),n.s(e).f(e),n.mt(t,a).lt(t+6*Math.cos((160+r)*toRad),a-6*Math.sin((160+r)*toRad)).lt(t+6*Math.cos((200+r)*toRad),a-6*Math.sin((200+r)*toRad)).cp()};